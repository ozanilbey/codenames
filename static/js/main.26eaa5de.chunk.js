(this.webpackJsonpcodenames=this.webpackJsonpcodenames||[]).push([[0],[,,function(e){e.exports=JSON.parse('["africa","agent","air","alien","alps","amazon","ambulance","america","angel","antarctica","apple","arm","atlantis","australia","aztec","back","ball","band","bank","bar","bark","bat","battery","beach","bear","beat","bed","beijing","bell","belt","berlin","bermuda","berry","bill","block","board","bolt","bomb","bond","boom","boot","bottle","bow","box","bridge","brush","buck","buffalo","bug","bugle","button","calf","canada","cap","capital","car","card","carrot","casino","cast","cat","cell","centaur","center","chair","change","charge","check","chest","chick","china","chocolate","church","circle","cliff","cloak","club","code","cold","comic","compound","concert","conductor","contract","cook","copper","cotton","court","cover","crane","crash","cricket","cross","crown","cycle","czech","dance","date","day","death","deck","degree","diamond","dice","dinosaur","disease","doctor","dog","draft","dragon","dress","drill","drop","duck","dwarf","eagle","egypt","embassy","engine","england","europe","eye","face","fair","fall","fan","fence","field","fighter","figure","file","film","fire","fish","flute","fly","foot","force","forest","fork","france","game","gas","genius","germany","ghost","giant","glass","glove","gold","grace","grass","greece","green","ground","ham","hand","hawk","head","heart","helicopter","himalayas","hole","hollywood","honey","hood","hook","horn","horse","horseshoe","hospital","hotel","ice","ice cream","india","iron","ivory","jack","jam","jet","jupiter","kangaroo","ketchup","key","kid","king","kiwi","knife","knight","lab","lap","laser","lawyer","lead","lemon","leprechaun","life","light","limousine","line","link","lion","litter","loch ness","lock","log","london","luck","mail","mammoth","maple","marble","march","mass","match","mercury","mexico","microscope","millionaire","mine","mint","missile","model","mole","moon","moscow","mount","mouse","mouth","mug","nail","needle","net","new york","night","ninja","note","novel","nurse","nut","octopus","oil","olive","olympus","opera","orange","organ","palm","pan","pants","paper","parachute","park","part","pass","paste","penguin","phoenix","piano","pie","pilot","pin","pipe","pirate","pistol","pit","pitch","plane","plastic","plate","platypus","play","plot","point","poison","pole","police","pool","port","post","pound","press","princess","pumpkin","pupil","pyramid","queen","rabbit","racket","ray","revolution","ring","robin","robot","rock","rome","root","rose","roulette","round","row","ruler","satellite","saturn","scale","school","scientist","scorpion","screen","scuba diver","seal","server","shadow","shakespeare","shark","ship","shoe","shop","shot","sink","skyscraper","slip","slug","smuggler","snow","snowman","sock","soldier","soul","sound","space","spell","spider","spike","spine","spot","spring","spy","square","stadium","staff","star","state","stick","stock","straw","stream","strike","string","sub","suit","superhero","swing","switch","table","tablet","tag","tail","tap","teacher","telescope","temple","theater","thief","thumb","tick","tie","time","tokyo","tooth","torch","tower","track","train","triangle","trip","trunk","tube","turkey","undertaker","unicorn","vacuum","van","vet","wake","wall","war","washer","washington","watch","water","wave","web","well","whale","whip","wind","witch","worm","yard"]')},,,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(4),c=a.n(s),i=a(8),o=a(9),l=a(5),u=a(6),d=a(10),m=a(7),p=a(1),h=a(11),b=(a(17),function(e){return n.a.createElement("div",{className:"records"},e.categories.map((function(t,a){return n.a.createElement("ul",{key:a,className:"list"},e.data.filter((function(e){return e.player===t.id})).length>0&&n.a.createElement("li",{className:"label item"},t.label),e.data.filter((function(e){return e.player===t.id})).map((function(e,t){return n.a.createElement("li",{key:t,className:"item"},n.a.createElement("b",{className:"result"},e.isSuccessful?"\u2713":"\u2717"),n.a.createElement("span",null,e.word))})))})))}),g=(a(18),function(e){return n.a.createElement("aside",{className:"panel"},n.a.createElement("b",{className:"name"},"Codenames"),e.status&&n.a.createElement("div",{className:"status",style:{color:e.status.color||"black"}},e.status.text||""),e.instructions&&n.a.createElement("div",{className:"instructions"},e.instructions.text&&n.a.createElement("p",{className:"text"},e.instructions.text),e.instructions.table&&n.a.createElement("div",{className:"table"},e.instructions.table.map((function(e,t){return n.a.createElement("div",{key:t,className:"item",style:{backgroundColor:e}})})))),e.records&&n.a.createElement(b,{categories:e.records.categories,data:e.records.data}),n.a.createElement("div",{className:"options"},e.start&&n.a.createElement("button",{className:"restart",onClick:e.start},e.language.startGameText),e.switch&&n.a.createElement("button",{className:"switch",onClick:e.switch},e.language.endTurnText),e.restart&&n.a.createElement("button",{className:"restart",onClick:e.restart},e.language.newGameText)))}),f=(a(19),function(e){return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:(e.isFlipped?"flipped ":"")+"container",onClick:e.onClick},n.a.createElement("div",{className:"front"},e.word),n.a.createElement("div",{className:"back",style:{backgroundImage:'url("images/characters/'.concat(e.id,'.png")')}})))}),y=(a(20),function(e){return n.a.createElement("main",{className:(e.disabled?"disabled ":"")+"board"},e.deck&&e.deck.length>0&&n.a.createElement("div",{className:"collection"},e.deck.map((function(t,a){return n.a.createElement(f,Object.assign({key:a},t,{onClick:function(){return!t.isFlipped&&e.evaluate(a)}}))}))))}),k=a(2),v={code:"en",players:{"blue-agent":{displayName:"blue agents"},"red-agent":{displayName:"red agents"}},newGameText:"new game",startGameText:"start game",endTurnText:"end turn",gameReadyText:"Starting game...",gameOverText:"Game over!",priorInstructionsText:"Take a photo of this table or memorize it since this is the first and the last time you see it.",statusText:function(e,t){if("won"===e)return"".concat(t," wins!");if("switched"===e){var a="s"===t.slice(-1)?"":"s";return"".concat(t,"'").concat(a," turn")}return""}},w={"blue-agent":{color:"blue",count:8,isPlayer:!0},"red-agent":{color:"red",count:8,isPlayer:!0},civilian:{color:"tan",count:7},assassin:{color:"black",count:1,isEndingGame:!0}},E={started:!1,ended:!1,status:null,player:null,records:[],deck:[]},N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state=E,a.configuration={players:[]},a.initiateGame=a.initiateGame.bind(Object(p.a)(a)),a.generateGame=a.generateGame.bind(Object(p.a)(a)),a.startGame=a.startGame.bind(Object(p.a)(a)),a.evaluateMove=a.evaluateMove.bind(Object(p.a)(a)),a.getOtherPlayer=a.getOtherPlayer.bind(Object(p.a)(a)),a.switchPlayer=a.switchPlayer.bind(Object(p.a)(a)),a.addRecord=a.addRecord.bind(Object(p.a)(a)),a.setStatus=a.setStatus.bind(Object(p.a)(a)),a.endGame=a.endGame.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.initiateGame()}},{key:"initiateGame",value:function(){this.setState(E),this.generateGame()}},{key:"generateGame",value:function(){this.configuration.players=Object.keys(w).filter((function(e){return w[e].isPlayer}));var e=this.configuration.players;e.sort((function(e,t){return Math.random()-.5}));var t=[];Object.keys(w).forEach((function(a){var r=w[a],n=r.count,s=r.color,c=r.isEndingGame,i=void 0!==c&&c;a===e[0]&&n++;for(var o=0;o<n;o++)t.push({color:s,character:a,isEndingGame:i,id:"".concat(a,"/").concat(o+1),word:k.splice(Math.floor(Math.random()*k.length),1)[0],isFlipped:!1})})),t.sort((function(e,t){return Math.random()-.5})),this.setState({deck:t,player:e[0]}),this.setStatus(v.gameReadyText)}},{key:"startGame",value:function(){var e=this.state.player;this.setState({started:!0}),this.setStatus(v.statusText("switched",v.players[e].displayName),w[e].color)}},{key:"evaluateMove",value:function(e){var t=this.state,a=t.deck,r=t.player,n=this.configuration.players,s=this.getOtherPlayer(r);a[e]=Object(o.a)({},a[e],{isFlipped:!0}),this.setState({deck:a}),this.addRecord(a[e].word,r,r===a[e].character),a[e].isEndingGame?this.endGame(s):n.includes(a[e].character)&&0===a.filter((function(t){return t.character===a[e].character&&!t.isFlipped})).length?this.endGame(a[e].character):a[e].character!==r&&(this.setStatus(v.statusText("switched",v.players[s].displayName),w[s].color),this.setState({player:s}))}},{key:"getOtherPlayer",value:function(e){var t=this.configuration.players;return t[1-t.indexOf(e)]}},{key:"switchPlayer",value:function(){var e=this.getOtherPlayer(this.state.player);this.setState({player:e}),this.setStatus(v.statusText("switched",v.players[e].displayName),w[e].color)}},{key:"addRecord",value:function(e,t,a){this.setState({records:[].concat(Object(i.a)(this.state.records),[{word:e,player:t,isSuccessful:a}])})}},{key:"setStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black";this.setState({status:{text:e,color:t}})}},{key:"endGame",value:function(e){var t;this.setState({ended:!0}),this.setStatus("".concat(v.gameOverText," ").concat((t=v.statusText("won",v.players[e].displayName)).charAt(0).toUpperCase()+t.slice(1)),w[e].color)}},{key:"render",value:function(){var e=this.state,t=e.started,a=e.ended,r=e.status,s=e.deck,c=e.records,i=this.configuration.players;return n.a.createElement("div",{className:"app",lang:v.code},n.a.createElement(y,{deck:s,disabled:!t||a,evaluate:this.evaluateMove}),n.a.createElement(g,Object.assign({status:r,language:v,restart:this.initiateGame},t?{records:{categories:i.map((function(e){return{id:e,label:"".concat(v.players[e].displayName," (").concat(s.filter((function(t){return t.character===e&&!t.isFlipped})).length,")")}})),data:c},switch:this.switchPlayer}:{instructions:{text:v.priorInstructionsText,table:s.map((function(e){return e.color}))},start:this.startGame})))}}]),t}(r.Component);a(21);c.a.render(n.a.createElement(N,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.26eaa5de.chunk.js.map